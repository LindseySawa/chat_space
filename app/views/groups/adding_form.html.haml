.chat-group-form__field--left
  %label.chat-group-form__label{:for => "chat_group_チャットメンバーを追加"} チャットメンバーを追加
.chat-group-form__field--right
  .chat-group-form__search.clearfix
    %input#user-search-field.chat-group-form__input{:placeholder => "追加したいユーザー名を入力してください", :type => "text"}/
  #user-search-result


def index 
  @users = User.where('name LIKE(?)', "%#{params[:keyword]}%")
  respond_to do |format|
  format.html 
  format.json 
end 

$(function(){
  function buildHTML(user){
    var html = `<div class="chat-group-user clearfix">
                <p class="chat-group-user__name">${user.name}</p>
                <div class="user-search-add chat-group-user__btn chat-group-user__btn--add" data-user-id="ユーザーのid" data-user-name="ユーザー名">追加</div>
              </div>`
    return html;
  }


})

$("#user-search-field").on('keyup', function(e){
e.preventDefault();
var url = (this).attr('action')
$.ajax({
  url:url,
  type:"GET",
  data:{keyword:input},
  dataType:'json',
  processData:false,
  contentType:false 
})
.done(function(users){
  $('#user-search-result').empty()
  if(users.lenght !== 0){
    user.forEach(function(user){





    });
  }
  else{
    appendErrMsg("一致するメンバーはいません");
  }
.fail(function){
  alert("メンバーの検索に失敗しました")
}


})
